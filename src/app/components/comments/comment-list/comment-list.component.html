<p>Listing comments for parent: {{ parentKey }}.</p>

<div *ngFor="let comment of comments | reverseArray"
  style="margin: 30px;">
  <!-- {{ comment | async | json }} -->
  <cos-comment-view [comment]="comment"
    *ngIf="!commentIsBeingEdited(comment)"></cos-comment-view>
  <cos-comment-edit [comment]="comment"
    [userInfo]="userInfo"
    (textChanges)="onEditText($event)"
    *ngIf="commentIsBeingEdited(comment)"></cos-comment-edit>
  <!-- should display on hover and contain only icons -->
  <div style="margin-left: 30px;">
    <button (click)="enterEditMode(comment)"
      *ngIf="!commentIsBeingEdited(comment)">edit</button>
    <button (click)="onCancelEdit()"
      *ngIf="commentIsBeingEdited(comment)">cancel</button>
    <button (click)="onRemoveComment(comment)"
      *ngIf="!commentIsBeingEdited(comment)"
      style="margin-left: 30px;">remove</button>
    <button (click)="onSaveEdits(comment)"
      *ngIf="commentIsBeingEdited(comment)"
      style="margin-left: 30px;">save</button>
  </div>
</div>
